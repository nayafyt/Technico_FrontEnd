<div class="container-create-owner">
  <h2>Create Owner</h2>

  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <div class="form-group"
      [class.has-error]="form.get('vat')?.invalid&&form.get('vat')?.touched">
      <label for="vat">VAT Number</label>
      <input
        type="text"
        id="vat"
        formControlName="vatNumber"
        name="vat"
        required
        pattern="[0-9]{1,10}" 
        class="form-control"
      />
      <div *ngIf="getControlError('vat', 'required')">
        Vat is required
      </div>
    </div>

    <div class="form-group"
      [class.has-error]="form.get('name')?.invalid&&form.get('name')?.touched">
      <label for="name">Name</label>
      <input
        type="text"
        id="name"
        formControlName="name"
        name="name"
        required
        class="form-control"
      />
      <div *ngIf="getControlError('name', 'required')">
        Name is required
      </div>
    </div>

    <div class="form-group"
    [class.has-error]="form.get('surname')?.invalid&&form.get('surname')?.touched">
      <label for="surname">Surname</label>
      <input
        type="text"
        id="surname"
        formControlName="surname"
        name="surname"
        class="form-control"
        required
      />
      <div *ngIf="getControlError('surname', 'required')">
        Surname is required
      </div>
    </div>

    <div class="form-group">
      <label for="address">Address</label>
      <input
        type="text"
        id="address"
        formControlName="address"
        name="address"
        required
        class="form-control"
      />
      <div *ngIf="getControlError('address', 'required')">
        Address is required
      </div>
    </div>

    <div class="form-group">
      <label for="phoneNumber">Phone Number</label>
      <input
        type="text"
        id="phoneNumber"
        formControlName="phoneNumber"
        name="phoneNumber"
        required
        pattern="[0-9]{10}"
        class="form-control"
      />
      <div *ngIf="getControlError('phoneNumber', 'required')">
        Phone Number is required
      </div>
      <div *ngIf="getControlError('phoneNumber', 'pattern')">
        Please enter a valid 10-digit phone number
      </div>
    </div>

    <div class="form-group">
      <label for="email">Email</label>
      <input
        type="email"
        id="email"
        formControlName="email"
        name="email"
        required
        pattern="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$"
        class="form-control"
      />
      <div *ngIf="getControlError('email', 'required')">
        Email is required
      </div>
      <div *ngIf="getControlError('email', 'pattern')">
        Please enter a valid email address
      </div>
    </div>

    <div class="form-group">
      <label for="password">Password</label>
      <input
        type="password"
        id="password"
        formControlName="password"
        name="password"
        required
        class="form-control"
        autocomplete="off"
      />
      <div *ngIf="getControlError('password', 'required')">
        Password is required
      </div>
    </div>

    <div class="form-group">
      <label for="typeOfUser">Type of User</label>
      <select 
        id="typeOfUser" 
        formControlName="typeOfUser"
        name="typeOfUser" 
        class="form-control">
        <option *ngFor="let type of typesOfUser" [value]="type">{{type}}</option>
      </select>
    </div>

    <button type="submit" [disabled]="form.invalid">Submit</button>
  </form>
</div>
